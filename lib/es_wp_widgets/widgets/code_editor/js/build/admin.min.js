!function(a){if("undefined"==typeof b){var b=function(a,b){this.__construct(a,b)},c=b.prototype;c.dom=null,c.content="",c.esc_content="",c.editor=null,c.options=null,c.default_options={mode:"html"},c.__construct=function(b,c){var d=this;switch(b=a(b),this.dom={},this.dom.widget=b,this.dom.form=this.dom.widget.find("form"),this.dom.code_editor_container=this.dom.widget.find(".es_code_editor_container"),this.dom.data_input_el=this.dom.form.find("input.es-cfct-code-editor-content"),this.dom.mode_input_el=this.dom.form.find("input.es-cfct-code-editor-mode"),c=c||{},this.options={},this.options=a.extend(this.options,this.default_options,c),this.dom.mode_input_el.val()){case"javascript":this.options.mode="javascript";break;default:this.options.mode="html"}var e=this.dom.data_input_el.val();e||(e=""),this.set_values(_.unescape(e),!1),this.editor=new ES_ACE_Code_Editor({element:this.dom.code_editor_container,width:"100%",height:250,mode:this.options.mode,auto_focus:!1}),this.editor.ace_editor.setValue(this.content),this.editor.ace_editor.getSession().on("change",function(){d.set_values(d.editor.ace_editor.getValue())}),this.dom.mode_buttons=this.dom.code_editor_container.find(".es_code_editor_mode_select a"),this.dom.mode_buttons.click(function(b){b.preventDefault(),d.dom.mode_input_el.val(a(this).data("mode"))}),new ES_Widget_Advanced_Options(this.dom.form.find(".es-widget-form-advanced-options"))},c.set_values=function(a,b){"undefined"==typeof b&&(b=!0),this.content=a,this.esc_content=_.escape(a),!0===b&&this.dom.data_input_el.val(this.esc_content)}}window.ES_Code_Editor=b}(jQuery);