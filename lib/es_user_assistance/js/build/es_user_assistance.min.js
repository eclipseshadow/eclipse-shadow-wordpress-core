"undefined"==typeof ES_User_Assistance&&(ES_User_Assistance={init:function(){function a(){var a;for(var b in ES_Admin_Message.message_instances)a=ES_Admin_Message.message_instances[b],"undefined"!=typeof a.options.return_to&&"parent_window"==a.options.return_to?a.el.find(".es_return_to_message_link").click(function(b){b.preventDefault(),a.destroy(),parent.focus(),window.close()}):"undefined"!=typeof a.options.is_return_to_message&&a.el.find(".es_return_to_message_link").click(function(){a.destroy()});jQuery("#cfct-popup, .widgets-sortables .widget").on("click","a[data-return-to-url]",function(){var a;for(var b in ES_Admin_Message.message_instances)a=ES_Admin_Message.message_instances[b],"undefined"!=typeof a.options.is_return_to_message&&a.destroy();var c=jQuery(this),d=c.data("return-to-message"),e=c.data("return-to-url"),f={type:"notice",msg_ttl:36e5,persist_across_page_loads:!0,show_on_next_page_load:!0,is_return_to_message:!0};"current_window"==e&&(e="#",f.return_to="parent_window");var g='<a class="es_return_to_message_link" href="'+e+'">'+d+"</a>",a=new ES_Admin_Message(g,f),h=jQuery("#cfct-popup");h.find('input[value="Save"], #cfct-edit-module-cancel').click(function(){a.destroy()})})}jQuery(document).ready(function(){jQuery(".es_goto_link").click(ES_User_Assistance.do_goto_link),ES_Admin_Message.init()}),jQuery(document).bind("es-admin-messages-loaded",a)},do_goto_link:function(a){a.preventDefault();var b,c=jQuery(this),d=c.attr("href"),e=c.data("parent-selector"),f=c.data("pad-parent-h"),g=c.data("pad-parent-v"),h=jQuery(d).first();b="undefined"!=e?"self"==e?h:h.closest(e):h.parent().first(),jQuery("body").animate({scrollTop:b.offset().top-150},{duration:500,complete:function(){var a=b.css("display");"inline"==a&&b.addClass("es-goto-link-target-display-inline-block"),!1!==f&&b.addClass("es-goto-link-target-pad-h"),!1!==g&&b.addClass("es-goto-link-target-pad-v"),b.effect("highlight",{duration:1e3}).effect("highlight",{duration:1e3}).effect("highlight",{duration:1e3,complete:function(){b.removeClass("es-goto-link-target-active").removeClass("es-goto-link-target-display-inline-block").removeClass("es-goto-link-target-pad-h").removeClass("es-goto-link-target-pad-v")}})}})},set_cookie:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+1e3*60*60*24*c);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},get_cookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++)for(var e=c[d];" "==e.charAt(0);)if(e=e.substring(1,e.length),0==e.indexOf(b))return e.substring(b.length,e.length);return null},erase_cookie:function(a){s.set_cookie(a,"",-1)}},ES_User_Assistance.init()),"undefined"==typeof ES_Admin_Message&&!function(a){var b=function(a,b){this.__construct(a,b)},c=b.prototype,d=b;c.message="",c.id="",c.options={},c.default_options={type:"notice",msg_ttl:3e4,persist_across_page_loads:!1,btn_close:!0,btn_dsa:!0,animate:!0,show_on_next_page_load:!1},c.message_types={notice:{color:"f8f8db",alt_color_1:"f8f8db",alt_color_2:"f7f7be"},success:{color:"def6dc",alt_color_1:"def6dc",alt_color_2:"c6f5c1"},warning:{color:"ffd8d4",alt_color_1:"ffd8d4",alt_color_2:"fcbdb8"}},c.el=null,c.time_created=null,c.expiry_timer=null,c.bg_animate_1=null,c.bg_animate_2=null,d.message_instances=new Array,d.cookie_name="es_admin_messages",d.cookie_ttl=30,c.__construct=function(b,c){"undefined"==typeof b&&(b=""),"undefined"==typeof c&&(c=new Array);var e=this;this.message=b,this.id="es_admin_message_"+(d.message_instances.length+1).toString();var f={};if(this.options=a.extend(f,this.default_options,c),"undefined"!=typeof c.time_created)this.time_created=c.time_created;else{var g=new Date;this.time_created=g.getTime()}this.expiry_timer=setTimeout(function(){e.destroy()},this.options.msg_ttl),this.el=a('<div id="'+this.id+'" class="es_admin_message es_admin_message_'+this.options.type+'"><div class="es_admin_message_content">'+b+"</div></div>"),this.el.css("display","none");var h=a('<div class="es_admin_message_controls"></div>').prependTo(this.el);if(this.options.btn_close){var i=a('<a href="#" class="es_admin_message_close">Close</a>').click(function(a){a.preventDefault(),e.hide()});h.append(i)}if(this.options.btn_dsa){var j=a('<a href="#" class="es_admin_message_dsa">Don\'t Show This Message Again</a>').click(function(a){a.preventDefault(),e.destroy()});h.append(j)}this.show(),d.message_instances.push(this),d.save_messages_to_cookie()},c.show=function(){if(!this.options.show_on_next_page_load){var b=this;a("#wpcontent").prepend(this.el),this.el.slideDown(500,function(){b.options.animate&&b.start_animation()})}},c.hide=function(){this.stop_animation(),this.el.slideUp(500,function(){a(this).remove()}),clearTimeout(this.expiry_timer)},c.destroy=function(){this.options.msg_ttl=-1,this.hide(),d.save_messages_to_cookie()},c.start_animation=function(){var a=this;this.bg_animate_1=function(){a.el.animate({backgroundColor:"#"+a.message_types[a.options.type].alt_color_1},{duration:1e3,queue:!1,complete:function(){a.bg_animate_2()}})},this.bg_animate_2=function(){a.el.animate({backgroundColor:"#"+a.message_types[a.options.type].alt_color_2},{duration:1e3,queue:!1,complete:function(){a.bg_animate_1()}})},this.bg_animate_1()},c.stop_animation=function(){this.el.stop()},d.init=function(){var c=d.get_messages_from_cookie(),e=(new Date).getTime();if(d.message_instances=new Array,null!=c){var f=null;for(var g in c)if(f=c[g],!(f.time_created+f.options.msg_ttl<e)){var h={time_created:f.time_created};new b(f.message,a.extend(f.options,h))}}setTimeout(function(){var a;for(var b in d.message_instances)a=d.message_instances[b],a.show()},1e3),a(document).triggerHandler("es-admin-messages-loaded")},d.get_messages_from_cookie=function(){var a=JSON.parse(ES_User_Assistance.get_cookie(d.cookie_name));return a},d.save_messages_to_cookie=function(){var a,b=new Array;for(var c in d.message_instances){a=d.message_instances[c];var e=(new Date).getTime();a.time_created+a.options.msg_ttl<e+5e3||0!=a.options.persist_across_page_loads&&("undefined"!=typeof a.options.show_on_next_page_load&&delete a.options.show_on_next_page_load,b.push({message:a.message,options:a.options,time_created:a.time_created}))}var f=JSON.stringify(b);ES_User_Assistance.set_cookie(d.cookie_name,f,d.cookie_ttl)},window.ES_Admin_Message=b}(jQuery);